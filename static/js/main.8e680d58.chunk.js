(this["webpackJsonpre-blog"]=this["webpackJsonpre-blog"]||[]).push([[0],{32:function(t,e,n){t.exports=n(65)},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var a=n(0),l=n.n(a),o=n(29),c=n.n(o),r=n(12),s=n(6),i=n(7),u=n(9),p=n(8),m=n(10),d=n(11),h=n(13),b=n.n(h),f=(n(54),function(t){return l.a.createElement("article",{onClick:t.selected,className:"Post"},l.a.createElement("h1",null," ",t.title," "),l.a.createElement("div",null,l.a.createElement("p",null," ",t.body," ")))}),E=(n(55),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={posts:[]},n.componentDidMount=function(){b.a.get("https://simple-blog-api.crew.red/posts").then((function(t){n.setState({posts:t.data})})).catch((function(t){return console.log(t)}))},n.selectedPost=function(t){n.props.history.push("/"+t)},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e="Loading";return this.state.posts.length&&(e=this.state.posts.map((function(e){return l.a.createElement(f,{selected:function(){return t.selectedPost(e.id)},key:e.id,body:e.body,title:e.title})}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"Posts"},l.a.createElement("h1",null,"Posts"),l.a.createElement("div",{className:"all-posts"},e)))}}]),e}(a.Component)),g=(n(56),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={post:null,redirect:!1},n.componentDidMount=function(){n.updatePost()},n.componentDidUpdate=function(){n.updatePost()},n.updatePost=function(){n.props.match.params.id&&(!n.state.post||n.state.post&&n.state.post.id!==+n.props.match.params.id)&&b.a.get("https://simple-blog-api.crew.red/posts/"+n.props.match.params.id).then((function(t){console.log(t),n.setState({post:t.data})})).catch((function(t){return console.log(t)}))},n.deletePost=function(){b.a.delete("https://simple-blog-api.crew.red/posts/"+n.state.post.id).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})),n.setState({redirect:!0})},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.state.redirect?l.a.createElement(d.a,{to:"/"}):null,e=null;return this.state.post&&(e=l.a.createElement("div",{className:"FullPost"},l.a.createElement("h1",null," ",this.state.post.title," "),l.a.createElement("p",null," ",this.state.post.body," "),l.a.createElement("button",{onClick:this.deletePost},"Delete Post"))),l.a.createElement("div",null,t,e)}}]),e}(a.Component)),v=(n(62),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={title:"",body:"",redirect:!1},n.createPostHandler=function(){var t={title:n.state.title,body:n.state.body};b.a.post("https://simple-blog-api.crew.red/posts",t).then((function(t){console.log(t),n.setState({redirect:!0})})).catch((function(t){return console.log(t)}))},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.state.redirect?l.a.createElement(d.a,{to:"/"}):null;return l.a.createElement("section",{className:"NewPost"},e,l.a.createElement("h1",null,"Create a new post"),l.a.createElement("label",null,"Title"),l.a.createElement("input",{type:"text",value:this.state.title,onChange:function(e){return t.setState({title:e.target.value})}}),l.a.createElement("label",null,"Content"),l.a.createElement("textarea",{rows:"4",type:"text",value:this.state.body,onChange:function(e){return t.setState({body:e.target.value})}}),l.a.createElement("button",{onClick:this.createPostHandler},"Create new post"))}}]),e}(a.Component)),y=(n(63),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"Blog"},l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null," ",l.a.createElement(r.b,{exact:!0,to:"/"}," All Posts ")," "),l.a.createElement("li",null," ",l.a.createElement(r.b,{to:"/new-post"}," New Post ")," ")))),l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:E}),l.a.createElement(d.b,{path:"/new-post",component:v}),l.a.createElement(d.b,{exact:!0,path:"/:id",component:g})))}}]),e}(a.Component)),j=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(r.a,null,l.a.createElement(y,null)))};n(64);c.a.render(l.a.createElement(j,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.8e680d58.chunk.js.map